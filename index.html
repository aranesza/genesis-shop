M.Sayadi: <html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø´Ù‡ÛŒØ¯Ø§Ù† Ù†Ø¸Ø±ÛŒ - Ø³Ø§Ù…Ø§Ù†Ù‡ Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§</title>
    <style>
        /* Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ÙÙˆÙ†Øª Ø±Ø³Ù…ÛŒ Vazirmatn Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø®ÙˆØ¨ */
        /* ØªÙˆØ¬Ù‡: Ø¢Ø¯Ø±Ø³ ÙÙˆÙ†Øª Vazirmatn Ø¯Ø± Ú©Ø¯ Ø§ØµÙ„ÛŒ Ø´Ù…Ø§ Ø§ÛŒØ±Ø§Ø¯ Ø¯Ø§Ø´ØªØŒ Ø§ÛŒÙ† Ø¢Ø¯Ø±Ø³ Ø§ØµÙ„Ø§Ø­ Ø´Ø¯Ù‡ Ø§Ø³Øª. */
        @import url('https://v1.fontiran.com/css?family=Vazirmatn:400,500,700&display=swap');

        body {
            font-family: 'Vazirmatn', Tahoma, sans-serif;
            background-color: #f4f7f9;
            color: #333;
            margin: 0;
            padding: 0;
            line-height: 1.7;
        }
        header {
            background-color: #1a237e; 
            color: #ffd700; 
            text-align: center;
            padding: 20px 0;
            font-size: 1.8em;
            font-weight: 700;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3); 
            text-shadow: 2px 2px 4px #000000; 
        }
        .container {
            max-width: 950px;
            margin: 30px auto;
            padding: 30px;
            background: #ffffff;
            border-radius: 12px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
            border-right: 5px solid #ffd700;
        }
        h2 {
            color: #1a237e;
            border-bottom: 3px solid #e0e0e0;
            padding-bottom: 12px;
            font-weight: 700;
        }
        h3 {
            color: #3f51b5;
            margin-top: 25px;
        }
        label {
            display: block;
            margin-top: 15px;
            font-weight: 500;
            color: #444;
        }
        input[type="text"], input[type="number"], input[type="tel"] {
            width: calc(100% - 22px);
            padding: 12px;
            margin-top: 6px;
            border: 1px solid #cccaca;
            border-radius: 8px;
            box-sizing: border-box;
            transition: border-color 0.3s, box-shadow 0.3s;
            font-size: 1em;
        }
        input:focus {
            border-color: #1a237e;
            box-shadow: 0 0 0 3px rgba(26, 35, 126, 0.2);
            outline: none;
        }
        .checkbox-group label {
            display: inline-block;
            font-weight: normal;
            margin-right: 10px;
            margin-left: 15px;
            cursor: pointer;
            color: #555;
        }
        .checkbox-group input[type="checkbox"] {
            width: auto;
            margin-left: 5px;
            transform: scale(1.1);
        }
        
        button {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 25px;
            font-size: 1.05em;
            transition: background-color 0.3s, transform 0.1s;
            font-weight: 500;
        }
        button:hover {
            transform: translateY(-2px);
        }
        #submitBtn {
            background-color: #388e3c;
            color: white;
            box-shadow: 0 4px 10px rgba(56, 142, 60, 0.4);
        }
        #submitBtn:hover {
            background-color: #2e7d32;
        }
        #viewBtn {
            background-color: #00796b;
            color: white;
            display: block;
            width: 250px;
            margin: 20px auto;
            box-shadow: 0 4px 10px rgba(0, 121, 107, 0.4);
        }
        #viewBtn:hover {
            background-color: #004d40;
        }
        
        #resultSection {
            margin-top: 40px;
            padding-top: 30px;
            border-top: 2px dashed #ccc;
            display: none; 
            background-color: #fafafa;
            border-radius: 8px;
            padding: 20px;
        }
        #output {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        .registration-item {
            border: 1px solid #ddd;
            padding: 20px;
            border-radius: 10px;
            background-color: white;
            box-shadow:
M.Sayadi: 0 2px 5px rgba(0, 0, 0, 0.05);
            position: relative;
            border-left: 4px solid #3f51b5;
        }
        .cancel-btn {
            background-color: #d9534f;
            color: white;
            padding: 6px 12px;
            font-size: 0.85em;
            border-radius: 5px;
            position: absolute;
            top: 10px;
            left: 10px;
        }
        .cancel-btn:hover {
            background-color: #c9302c;
            transform: none;
        }
        .registration-item p {
            margin: 5px 0;
            font-size: 0.95em;
        }
        .registration-item strong {
            color: #1a237e;
        }
    </style>
</head>
<body>

    <header>
        Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø´Ù‡ÛŒØ¯Ø§Ù† Ù†Ø¸Ø±ÛŒ ØªÙ‚Ø¯ÛŒÙ… Ù…ÛŒâ€ŒÚ©Ù†Ø¯
    </header>

    <div class="container">
        <h2>Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø¢Ù†Ù„Ø§ÛŒÙ† Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§</h2>
        
        <form id="registrationForm">
            
            <!-- Ø¨Ø®Ø´ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù„Ø§Ø³ -->
            <div class="checkbox-group">
                <label>Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù„Ø§Ø³ (Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ú†Ù†Ø¯ Ú¯Ø²ÛŒÙ†Ù‡ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯):</label><br>
                <input type="checkbox" name="class" id="class_mma" value="Ú©Ù„Ø§Ø³ Ø±Ø²Ù…ÛŒ (MMA)"> <label for="class_mma">Ú©Ù„Ø§Ø³ Ø±Ø²Ù…ÛŒ (MMA)</label>
                <input type="checkbox" name="class" id="class_win" value="Ú©Ù„Ø§Ø³ Ù†ØµØ¨ ÙˆÛŒÙ†Ø¯ÙˆØ²"> <label for="class_win">Ú©Ù„Ø§Ø³ Ù†ØµØ¨ ÙˆÛŒÙ†Ø¯ÙˆØ²</label><br>
                <input type="checkbox" name="class" id="class_ahkam" value="Ú©Ù„Ø§Ø³ Ø§Ø­Ú©Ø§Ù…"> <label for="class_ahkam">Ú©Ù„Ø§Ø³ Ø§Ø­Ú©Ø§Ù…</label>
                <input type="checkbox" name="class" id="class_bargh" value="Ú©Ù„Ø§Ø³ Ø¨Ø±Ù‚"> <label for="class_bargh">Ú©Ù„Ø§Ø³ Ø¨Ø±Ù‚</label>
                <input type="checkbox" name="class" id="class_football" value="ÙÙˆØªØ¨Ø§Ù„ Ù‡ÙØªÚ¯ÛŒ"> <label for="class_football">ÙÙˆØªØ¨Ø§Ù„ Ù‡ÙØªÚ¯ÛŒ</label>
            </div>

            <hr style="border-color: #eee;">

            <!-- Ø¨Ø®Ø´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… (Ù‡Ù…Ù‡ Ø§Ø¬Ø¨Ø§Ø±ÛŒ) -->
            <h3>Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´Ø±Ú©Øªâ€ŒÚ©Ù†Ù†Ø¯Ù‡ (Ù‡Ù…Ù‡ Ù…ÙˆØ§Ø±Ø¯ Ø§Ø¬Ø¨Ø§Ø±ÛŒ)</h3>
            <label for="name">Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ:</label>
            <input type="text" id="name" required placeholder="Ù†Ø§Ù… Ú©Ø§Ù…Ù„ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯">

            <label for="age">Ø³Ù†:</label>
            <input type="number" id="age" required placeholder="Ø³Ù† Ø´Ù…Ø§">

            <label for="phone">Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ†:</label>
            <input type="tel" id="phone" required placeholder="Ù…Ø«Ø§Ù„: 0912xxxxxxx">

            <br>
            <button type="submit" id="submitBtn">âœ… ØªØ£ÛŒÛŒØ¯ Ùˆ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ù†Ù‡Ø§ÛŒÛŒ</button>
        </form>

        <!-- Ø¯Ú©Ù…Ù‡ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ± Ø³Ø§ÛŒØª -->
        <!-- Ø§ÛŒÙ† Ø¯Ú©Ù…Ù‡ Ø±Ø§ Ø·ÙˆØ±ÛŒ Ø·Ø±Ø§Ø­ÛŒ Ú©Ø±Ø¯Ù… Ú©Ù‡ ÙÙ‚Ø· Ø¯Ø± Ø­Ø§Ù„Øª ØªÙˆØ³Ø¹Ù‡ ÛŒØ§ ØªÙˆØ³Ø· Ú©Ø³ÛŒ Ú©Ù‡ Ø¨Ù‡ Ú©Ù†Ø³ÙˆÙ„ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø±Ø¯ Ù‚Ø§Ø¨Ù„ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¨Ø§Ø´Ø¯ -->
        <button id="viewBtn" onclick="showRegistrations()">ğŸ” Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…â€ŒÙ‡Ø§ (ØªÙ†Ù‡Ø§ Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±)</button>

        <!-- Ø¨Ø®Ø´ Ù†Ù…Ø§ÛŒØ´ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª -->
        <section id="resultSection">
            <h2>Ù„ÛŒØ³Øª Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…â€ŒÚ©Ù†Ù†Ø¯Ú¯Ø§Ù†</h2>
            <div id="output">
                <!-- Ù„ÛŒØ³Øª Ø§ÛŒÙ†Ø¬Ø§ ØªÙˆØ³Ø· Ø¬Ø§ÙˆØ§Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ù¾Ø± Ù…ÛŒâ€ŒØ´ÙˆØ¯ -->
            </div>
        </section>

    </div>

    <script>
        const FORM = document.getElementById('registrationForm');
        const VIEW_SECTION = document.getElementById('resultSection');
        const OUTPUT_DIV = document.getElementById('output');
        // Ú©Ù„ÛŒØ¯ Ø°Ø®ÛŒØ±Ù‡ Ø³Ø§Ø²ÛŒ Ø¯Ø± Ø­Ø§ÙØ¸Ù‡ Ù…Ø±ÙˆØ±Ú¯Ø±
        const STORAGE_KEY = 'classRegistrations_NazariBase'; 

        // 1. Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ø±Ø³Ø§Ù„ ÙØ±Ù… (Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…)
        FORM.addEventListener('submit', function(event) {
            event.preventDefault();
            
            const selectedClasses = Array.from(document.querySelectorAll('input[name="class"]:checked'))
                                        .map(el => el.value);

            if (selectedClasses.length === 0) {
                alert("âš ï¸ Ù„Ø·ÙØ§Ù‹ Ø­Ø¯Ø§Ù‚Ù„ ÛŒÚ© Ú©Ù„Ø§Ø³ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.");
                return;
            }

            const newRegistration = {
                name: document.getElementById("name").value,
                age: document.getElementById("age").value,
                phone: document.getElementById("phone").value,
                classes: selectedClasses,
                timestamp: new Date().toISOString()
M.Sayadi: };

            // Ø¯Ø±ÛŒØ§ÙØª Ù„ÛŒØ³Øª Ù‚Ø¨Ù„ÛŒ ÛŒØ§ Ø§ÛŒØ¬Ø§Ø¯ Ù„ÛŒØ³Øª Ø¬Ø¯ÛŒØ¯
            let allRegistrations = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
            allRegistrations.push(newRegistration);
            
            // Ø°Ø®ÛŒØ±Ù‡ Ù„ÛŒØ³Øª Ø¨Ù‡ Ø±ÙˆØ² Ø´Ø¯Ù‡
            localStorage.setItem(STORAGE_KEY, JSON.stringify(allRegistrations));

            alert("âœ… Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯. Ù„Ø·ÙØ§Ù‹ Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù„ÛŒØ³Øª Ù†Ù‡Ø§ÛŒÛŒØŒ Ø§Ø² Ø·Ø±ÛŒÙ‚ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ù‚Ø¯Ø§Ù… Ù†Ù…Ø§ÛŒÛŒØ¯.");
            FORM.reset(); 
            VIEW_SECTION.style.display = 'none'; 
        });

        // 2. ØªØ§Ø¨Ø¹ Ù†Ù…Ø§ÛŒØ´ Ù„ÛŒØ³Øª Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…â€ŒÙ‡Ø§ (Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ± Ø³Ø§ÛŒØª)
        // Ø§ÛŒÙ† ØªØ§Ø¨Ø¹ Ø¨Ø§ Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ù†Ù…Ø§ÛŒØ´ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ùˆ Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ú©Ù†Ø³ÙˆÙ„ Ù…Ø±ÙˆØ±Ú¯Ø± Ø¯Ø§Ø±Ø¯.
        window.showRegistrations = function() {
            const allRegistrations = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
            VIEW_SECTION.style.display = 'block';

            if (allRegistrations.length === 0) {
                OUTPUT_DIV.innerHTML = '<p style="grid-column: 1 / -1; text-align: center; padding: 20px; background: #fff; border-radius: 8px;">ØªØ§ Ø§ÛŒÙ† Ù„Ø­Ø¸Ù‡ Ù‡ÛŒÚ† Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…ÛŒ Ø§Ù†Ø¬Ø§Ù… Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª.</p>';
                return;
            }

            let htmlContent = '';
            
            allRegistrations.forEach((r, index) => {
                // Ù†Ù…Ø§ÛŒØ´ ØªØ§Ø±ÛŒØ® Ùˆ Ø²Ù…Ø§Ù† Ø¨Ù‡ ÙØ±Ù…Øª Ø´Ù…Ø³ÛŒ (Ø¨Ø®Ø´ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù…Ø­Ù„ÛŒ Ù…Ø±ÙˆØ±Ú¯Ø±)
                const regDate = new Date(r.timestamp).toLocaleDateString('fa-IR') + ' ' + new Date(r.timestamp).toLocaleTimeString('fa-IR', { hour: '2-digit', minute: '2-digit' });

                htmlContent += `
                    <div class="registration-item">
                        <!-- Ø¯Ú©Ù…Ù‡ Ù„ØºÙˆ ØªÙ†Ù‡Ø§ Ø¯Ø± Ø§ÛŒÙ† Ø¨Ø®Ø´ (Ú©Ù‡ Ø¨Ø§ÛŒØ¯ ØªÙˆØ³Ø· Ù…Ø¯ÛŒØ± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´ÙˆØ¯) Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒ Ø´ÙˆØ¯ -->
                        <button class="cancel-btn" onclick="cancelRegistration(${index})">âŒ Ù„ØºÙˆ</button>
                        <p><strong>Ù…ÙˆØ±Ø¯:</strong> ${index + 1}</p>
                        <p><strong>Ù†Ø§Ù…:</strong> ${r.name}</p>
                        <p><strong>Ø³Ù†:</strong> ${r.age}</p>
                        <p><strong>ØªÙ„ÙÙ†:</strong> ${r.phone}</p>
                        <p style="font-size: 0.9em;"><strong>Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§:</strong> ${r.classes.join("ØŒ ")}</p>
                        <small>ØªØ§Ø±ÛŒØ® Ø«Ø¨Øª: ${regDate}</small>
                    </div>
                `;
            });
            OUTPUT_DIV.innerHTML = htmlContent;
        }

        // 3. ØªØ§Ø¨Ø¹ Ù„ØºÙˆ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… (ØªÙ†Ù‡Ø§ Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ù…Ø¯ÛŒØ± Ø§Ø² Ø·Ø±ÛŒÙ‚ showRegistrations)
        window.cancelRegistration = function(indexToCancel) {
            let allRegistrations = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
            
            if (allRegistrations[indexToCancel]) {
                const registrantName = allRegistrations[indexToCancel].name;
                
                // ØªØ§ÛŒÛŒØ¯ Ù†Ù‡Ø§ÛŒÛŒ Ø¨Ø±Ø§ÛŒ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø­Ø°Ù ØªØµØ§Ø¯ÙÛŒ
                if (confirm(`âš ï¸ Ù‡Ø´Ø¯Ø§Ø±: Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù†ÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… ${registrantName} Ø±Ø§ Ø¨Ù‡ Ø·ÙˆØ± Ú©Ø§Ù…Ù„ Ù„ØºÙˆ Ú©Ù†ÛŒØ¯ØŸ Ø§ÛŒÙ† Ø¹Ù…Ù„ÛŒØ§Øª Ø¯Ø± Ø­Ø§ÙØ¸Ù‡ Ù…Ø±ÙˆØ±Ú¯Ø± Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ´ÙˆØ¯.`)) {
                    allRegistrations.splice(indexToCancel, 1); 
                    localStorage.setItem(STORAGE_KEY, JSON.stringify(allRegistrations));
                    
                    // Ù¾Ø³ Ø§Ø² Ø­Ø°ÙØŒ Ù„ÛŒØ³Øª Ø±Ø§ Ù…Ø¬Ø¯Ø¯Ø§Ù‹ Ù†Ù…Ø§ÛŒØ´ Ù…ÛŒâ€ŒØ¯Ù‡ÛŒÙ… ØªØ§ Ø¨Ù‡â€ŒØ±ÙˆØ² Ø´ÙˆØ¯
                    showRegistrations(); 
                }
            }
       }
    </script>

</body>
</html>
`
